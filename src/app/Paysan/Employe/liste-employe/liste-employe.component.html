
<header-paysan></header-paysan>


<!-- CONTENT -->
<section id="content">
  <!-- NAVBAR -->
  <nav>
    <i (click)="addToggle()" class='bx bx-menu' ></i>
    <a class="nav-link" href="#">Categories</a>
    <form action="#">
      <div class="form-input">
        <input placeholder="Search..." type="search">
        <button class="search-btn" type="button"><i class='bx bx-search' ></i></button>
      </div>
    </form>
    <a class="notification" href="#">
      <i class='bx bxs-bell' ></i>
      <span class="num">8</span>
    </a>
    <a class="profile" href="#">
      <img src="https://secure.gravatar.com/avatar/d09eaad01aea86c51b4f892b4f8abf6f?s=100&d=wavatar&r=g">
    </a>
  </nav>
  <!-- NAVBAR -->

  <!-- MAIN -->
  <main>
    <div class="head-title">
      <div class="left">
        <h1>Dashboard</h1>
        <ul class="breadcrumb">
          <li>
            <a href="#">Dashboard</a>
          </li>
          <li><i class='bx bx-chevron-right' ></i></li>
          <li>
            <a class="active" href="listeEmployee" style="color: #28a745;">Liste des employés</a>
          </li>
        </ul>
      </div>
      <a class="btn-download" href="#">
        <i class='bx bxs-cloud-download' ></i>
        <span class="text">Download PDF</span>
      </a>
    </div>

    <div *ngIf="errorMessage" class="alert alert-danger">{{ errorMessage }}</div>
    <div *ngIf="sucessMessage" class="alert alert-success">{{ sucessMessage }}</div>

    <a  class="btn btn-secondary" [routerLink]="['/ajoutEmployee']" >Ajout Employe</a>

    <div *ngIf="employe.length === 0" class="alert alert text-center">
      <h2 class="text-danger">Aucun employé disponible.</h2>
      <br>
      <img src="../../../../assets/images/vide.gif" style="width: 500px;">
    </div>

    <div class="table-data" *ngIf="employe.length > 0">

      <div class="order">

        <div class="head">
          <h3>Listes Ulitisateurs</h3>
          <i class='bx bx-search' ></i>
          <i class='bx bx-filter'></i>
        </div>
        <table>
          <thead>
            <tr>
              <th>Nom</th>
              <th>Prenom</th>
              <th>Email</th>
              <th>Contact</th>
              <th>Profil</th>
              <th colspan="2">Action</th>
            </tr>
          </thead>
          <tbody *ngFor="let v of employe">
            <tr>
              <td>
                <p>{{v.nom}}</p>
              </td>
              <td>{{v.prenom}}</td>
              <td>{{v.email}}</td>
              <td>{{v.contact}}</td>
              <td>{{v.role}}</td>
              <td><button class="btn btn-warning" (click)="modifierUser(v.id)">Update</button></td>
              <td><button class="btn btn-danger" (click)="deleteEmployee(v.id)">Supprimer</button></td>


                <!-- <td>
                  <button type="button" class="status completed btn btn-warning" (click)="v.status === 'bloquer' ? unblockUser(v.id) : blockUser(v.id)">
                    {{ v.status === 'bloquer' ? 'Débloquer' : 'Bloquer' }}


                </button> -->

          </tbody>
        </table>
      </div>

    </div>


  </main>
  <!-- MAIN -->
</section>
<!-- CONTENT -->
